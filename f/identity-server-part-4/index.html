<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.17.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Building an identity server that supports OAuth 2.0 and OpenID Connect with ASP.NET Core and IdentityServer4 - Part 4 | Vincent (Hones) Nyanga</title>
<meta name="description" content="In the previous post we added support for users to login to our identity server using ASP.NET Core Identity and Entity Framework. In this post we are going to add a simple MVC client that will make use of our identity server to protect its resources. Let’s get started.">


  <meta name="author" content="Vincent Nyanga">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_ZA">
<meta property="og:site_name" content="Vincent (Hones) Nyanga">
<meta property="og:title" content="Building an identity server that supports OAuth 2.0 and OpenID Connect with ASP.NET Core and IdentityServer4 - Part 4">
<meta property="og:url" content="http://localhost:4000/identity-server-part-4/">


  <meta property="og:description" content="In the previous post we added support for users to login to our identity server using ASP.NET Core Identity and Entity Framework. In this post we are going to add a simple MVC client that will make use of our identity server to protect its resources. Let’s get started.">







  <meta property="article:published_time" content="2020-03-28T00:00:00+02:00">





  

  


<link rel="canonical" href="http://localhost:4000/identity-server-part-4/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Vincent Nyanga",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Vincent (Hones) Nyanga Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/img/logo.png" alt=""></a>
        
        <a class="site-title" href="/">
          Vincent (Hones) Nyanga
          <span class="site-subtitle">Personal blog</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/year-archive/" >Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/weekly-lessons/" >Weekly Lessons</a>
            </li><li class="masthead__menu-item">
              <a href="/about/" >About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="https://avatars2.githubusercontent.com/u/13013852?v=3&u=0e1bc9da031c3b0fed315dcf2869b3cc38b7e232&s=400" alt="Vincent Nyanga" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Vincent Nyanga</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Software engineer</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Johannesburg, ZA</span>
        </li>
      

      
        
          
            <li><a href="https://www.linkedin.com/in/vincentnyanga/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
          
        
          
            <li><a href="https://github.com/vince-nyanga/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Building an identity server that supports OAuth 2.0 and OpenID Connect with ASP.NET Core and IdentityServer4 - Part 4">
    <meta itemprop="description" content="In the previous post we added support for users to login to our identity server using ASP.NET Core Identity and Entity Framework. In this post we are going to add a simple MVC client that will make use of our identity server to protect its resources. Let’s get started.">
    <meta itemprop="datePublished" content="March 28, 2020">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Building an identity server that supports OAuth 2.0 and OpenID Connect with ASP.NET Core and IdentityServer4 - Part 4
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read

</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>In the <a href="/identity-server-part-3">previous post</a> we added support for users to login to our identity server using ASP.NET Core <code class="highlighter-rouge">Identity</code> and <code class="highlighter-rouge">Entity Framework</code>. In this post we are going to add a simple MVC client that will make use of our identity server to protect its resources. Let’s get started.</p>

<h2 id="what-we-need-to-achieve">What We Need To Achieve</h2>

<p>Our MVC client is going to have some protected views that require users to be authenticated. Instead of implementing this functionality inside the MVC app, we make use of the identity server that we built. When a user navigates to a protected view they will be redirected to the identity server to login. Once they have successfully logged in they will then redirected back to the protected view.</p>

<h2 id="the-code">The Code</h2>

<p>Add a new empty web app called <code class="highlighter-rouge">MvcClient</code> to the solution and add the following package that we are going to need:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Microsoft.AspNetCore.Authentication.OpenIdConnect
</code></pre></div></div>

<p>Now let us go to the <code class="highlighter-rouge">Startup.cs</code> class and add the following code:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Startup.cs</span>

<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Builder</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Hosting</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Http</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.Extensions.DependencyInjection</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.Extensions.Hosting</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">MvcClient</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Startup</span>
    <span class="p">{</span>


        <span class="k">public</span> <span class="k">void</span> <span class="nf">ConfigureServices</span><span class="p">(</span><span class="n">IServiceCollection</span> <span class="n">services</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">services</span><span class="p">.</span><span class="nf">AddControllersWithViews</span><span class="p">();</span>

            <span class="n">services</span><span class="p">.</span><span class="nf">AddAuthentication</span><span class="p">(</span><span class="n">config</span> <span class="p">=&gt;</span>
            <span class="p">{</span>
                <span class="n">config</span><span class="p">.</span><span class="n">DefaultScheme</span> <span class="p">=</span> <span class="s">"Cookie"</span><span class="p">;</span>
                <span class="n">config</span><span class="p">.</span><span class="n">DefaultChallengeScheme</span> <span class="p">=</span> <span class="s">"oidc"</span><span class="p">;</span>
            <span class="p">})</span>
                <span class="p">.</span><span class="nf">AddCookie</span><span class="p">(</span><span class="s">"Cookie"</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">AddOpenIdConnect</span><span class="p">(</span><span class="s">"oidc"</span><span class="p">,</span> <span class="n">config</span> <span class="p">=&gt;</span>
                <span class="p">{</span>
                    <span class="n">config</span><span class="p">.</span><span class="n">Authority</span> <span class="p">=</span> <span class="s">"[IDENTITY_SERVER_URL_HERE]"</span><span class="p">;</span>
                    <span class="n">config</span><span class="p">.</span><span class="n">ClientId</span> <span class="p">=</span> <span class="s">"mvc_client"</span><span class="p">;</span>
                    <span class="n">config</span><span class="p">.</span><span class="n">ClientSecret</span> <span class="p">=</span> <span class="s">"mvc_client_secret"</span><span class="p">;</span>
                    <span class="n">config</span><span class="p">.</span><span class="n">SaveTokens</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span> <span class="c1">// persist tokens in the cookie</span>
                    <span class="n">config</span><span class="p">.</span><span class="n">ResponseType</span> <span class="p">=</span> <span class="s">"code"</span><span class="p">;</span>
                <span class="p">});</span>
        <span class="p">}</span>


        <span class="k">public</span> <span class="k">void</span> <span class="nf">Configure</span><span class="p">(</span><span class="n">IApplicationBuilder</span> <span class="n">app</span><span class="p">,</span> <span class="n">IWebHostEnvironment</span> <span class="n">env</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">env</span><span class="p">.</span><span class="nf">IsDevelopment</span><span class="p">())</span>
            <span class="p">{</span>
                <span class="n">app</span><span class="p">.</span><span class="nf">UseDeveloperExceptionPage</span><span class="p">();</span>
            <span class="p">}</span>

            <span class="n">app</span><span class="p">.</span><span class="nf">UseRouting</span><span class="p">();</span>
            <span class="n">app</span><span class="p">.</span><span class="nf">UseAuthentication</span><span class="p">();</span>
            <span class="n">app</span><span class="p">.</span><span class="nf">UseAuthorization</span><span class="p">();</span>

            <span class="n">app</span><span class="p">.</span><span class="nf">UseEndpoints</span><span class="p">(</span><span class="n">endpoints</span> <span class="p">=&gt;</span>
            <span class="p">{</span>
                <span class="n">endpoints</span><span class="p">.</span><span class="nf">MapDefaultControllerRoute</span><span class="p">();</span>
            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>We added authentication services to DI inside the <code class="highlighter-rouge">ConfigureServices</code> method. We are making use of a cookie to locally sign in the user and set the <code class="highlighter-rouge">DefaultChallengeScheme</code> to <code class="highlighter-rouge">"oidc"</code> because we want to make use of the OpenID Connect protocol when the user logs in. The <code class="highlighter-rouge">AddOpenIdConnect</code> method is used to configure the handler that will perform the OpenID Connect protocol. Inside that method we configure the authority and identify our client using the client id.</p>

<p>Let us now add a controller for our MVC app. Create <code class="highlighter-rouge">Controllers/HomeController.cs</code> and add the following code to it:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Controllers/HomeController.cs</span>

<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Authorization</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.AspNetCore.Mvc</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">MvcClient.Controllers</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">HomeController</span> <span class="p">:</span> <span class="n">Controller</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">IActionResult</span> <span class="nf">Index</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="nf">View</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="p">[</span><span class="n">Authorize</span><span class="p">]</span>
        <span class="k">public</span> <span class="n">IActionResult</span> <span class="nf">Protected</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="nf">View</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>We have a protected endpoint (<code class="highlighter-rouge">Protected()</code>) that will require a user to be authenticated. Let’s go ahead and add our Views:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!--Views/Home/Index.cshtml--&gt;</span>
<span class="nt">&lt;h1&gt;</span>Hello World!<span class="nt">&lt;/h1&gt;</span>
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!--Views/Home/Protected.cshtml--&gt;</span>
<span class="nt">&lt;h1&gt;</span>Top Secret!!!<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;p&gt;</span>I love ASP.NET Core<span class="nt">&lt;/p&gt;</span>
</code></pre></div></div>

<p>We are done with the MVC client. Let us now go to the <code class="highlighter-rouge">Server</code> project and make a few additions to the code. First, open the <code class="highlighter-rouge">Configuration.cs</code> class and add this:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Configuration.cs</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">Configuration</span>
<span class="p">{</span>
     <span class="c1">// New</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">IdentityResource</span><span class="p">&gt;</span> <span class="n">IdentityResources</span> <span class="p">=&gt;</span>
        <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">IdentityResource</span><span class="p">&gt;</span>
        <span class="p">{</span>
            <span class="k">new</span> <span class="n">IdentityResources</span><span class="p">.</span><span class="nf">OpenId</span><span class="p">(),</span>
            <span class="k">new</span> <span class="n">IdentityResources</span><span class="p">.</span><span class="nf">Profile</span><span class="p">()</span>
        <span class="p">};</span>

    <span class="c1">// ...</span>

<span class="p">}</span>

</code></pre></div></div>

<p>We have added a list of identity resources that our identity server is going to protect. These resources are going to be required by our MVC client as per the OpenID Connect protocol.</p>

<p>While we are still inside the <code class="highlighter-rouge">Configuration.cs</code> class let us register our MVC client to the identity server by adding it to <code class="highlighter-rouge">Clients</code> list:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Configuration.cs</span>
<span class="k">public</span> <span class="k">static</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Client</span><span class="p">&gt;</span> <span class="n">Clients</span> <span class="p">=&gt;</span>
    <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Client</span><span class="p">&gt;</span>
    <span class="p">{</span>
        <span class="k">new</span> <span class="n">Client</span>
        <span class="p">{</span>
            <span class="n">ClientId</span> <span class="p">=</span> <span class="s">"console_app"</span><span class="p">,</span>
            <span class="n">ClientSecrets</span> <span class="p">=</span> <span class="p">{</span> <span class="k">new</span> <span class="nf">Secret</span><span class="p">(</span><span class="s">"console_app_secret"</span><span class="p">.</span><span class="nf">ToSha256</span><span class="p">())},</span>
            <span class="n">AllowedGrantTypes</span> <span class="p">=</span> <span class="n">GrantTypes</span><span class="p">.</span><span class="n">ClientCredentials</span><span class="p">,</span>
            <span class="n">AllowedScopes</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"dummy_api"</span> <span class="p">}</span>
        <span class="p">},</span>
        <span class="c1">// New</span>
        <span class="k">new</span> <span class="n">Client</span>
        <span class="p">{</span>
            <span class="n">ClientId</span> <span class="p">=</span> <span class="s">"mvc_client"</span><span class="p">,</span>
            <span class="n">ClientSecrets</span> <span class="p">=</span> <span class="p">{</span> <span class="k">new</span> <span class="nf">Secret</span><span class="p">(</span><span class="s">"mvc_client_secret"</span><span class="p">.</span><span class="nf">ToSha256</span><span class="p">())</span> <span class="p">},</span>
            <span class="n">AllowedGrantTypes</span> <span class="p">=</span> <span class="n">GrantTypes</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span>
            <span class="n">RequireConsent</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span>
            <span class="n">AllowedScopes</span> <span class="p">=</span>
            <span class="p">{</span>
                <span class="s">"dummy_api"</span><span class="p">,</span>
                <span class="n">IdentityServerConstants</span><span class="p">.</span><span class="n">StandardScopes</span><span class="p">.</span><span class="n">OpenId</span><span class="p">,</span>
                <span class="n">IdentityServerConstants</span><span class="p">.</span><span class="n">StandardScopes</span><span class="p">.</span><span class="n">Profile</span>
            <span class="p">},</span>
             <span class="n">RedirectUris</span> <span class="p">=</span> <span class="p">{</span> <span class="s">"[MVC_CLIENT_URL_HERE]/signin-oidc"</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">};</span>

</code></pre></div></div>

<p>Now let’s go to the <code class="highlighter-rouge">Startup.cs</code> class and register the identity resources that we defined earlier.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Startup.cs</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">ConfigureServices</span><span class="p">(</span><span class="n">IServiceCollection</span> <span class="n">services</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// ... left out for brevity</span>

    <span class="n">services</span><span class="p">.</span><span class="nf">AddIdentityServer</span><span class="p">()</span>
        <span class="p">.</span><span class="n">AddAspNetIdentity</span><span class="p">&lt;</span><span class="n">IdentityUser</span><span class="p">&gt;()</span>
        <span class="p">.</span><span class="nf">AddInMemoryApiResources</span><span class="p">(</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Apis</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">AddInMemoryClients</span><span class="p">(</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Clients</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">AddInMemoryIdentityResources</span><span class="p">(</span><span class="n">Configuration</span><span class="p">.</span><span class="n">IdentityResources</span><span class="p">)</span> <span class="c1">// New</span>
        <span class="p">.</span><span class="nf">AddDeveloperSigningCredential</span><span class="p">();</span>

    <span class="c1">// ...</span>

<span class="p">}</span>

</code></pre></div></div>

<p>We are done. Now run both the <code class="highlighter-rouge">Server</code> and the <code class="highlighter-rouge">MvcClient</code> projects and inside the MVC client navigate to <code class="highlighter-rouge">Home/Protected</code>. You will be redirected to the identity server’s login page where you will log in using the user credentials we added in the previous post. After successfully loging in you will then be redirected back to the protected page to view the top secret message. Tokens from the identity server will be stored inside the cookie that we configured earlier. We have accomplished our mission for this post. You may check out the source code on <a href="https://github.com/vince-nyanga/IdentityServerTutorial">GitHub</a>.</p>

<h2 id="conclusion">Conclusion</h2>

<p>In this post we added an MVC client to our project. The client has a protected view that requires a user to be authenticated first. Instead of implementing this functionality inside the MVC app itself, we outsource it to the identity server that we built. When the user navigates to the protected view they will be redirected to the identity server’s login page that we created in the previous post. When they have successfully logged in they will be redirected back to view the protected page. Once again, thanks so much for reading and I hope and pray that you’re safe from the <strong>Covid-19</strong> virus.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#asp-net-core" class="page__taxonomy-item" rel="tag">ASP.NET Core</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#c" class="page__taxonomy-item" rel="tag">C#</a>
    
    </span>
  </p>




        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2020-03-28T00:00:00+02:00">March 28, 2020</time></p>
        
      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=Building+an+identity+server+that+supports+OAuth+2.0+and+OpenID+Connect+with+ASP.NET+Core+and+IdentityServer4+-+Part+4%20http%3A%2F%2Flocalhost%3A4000%2Fidentity-server-part-4%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fidentity-server-part-4%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fidentity-server-part-4%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/identity-server-part-3/" class="pagination--pager" title="Building an identity server that supports OAuth 2.0 and OpenID Connect with ASP.NET Core and IdentityServer4 - Part 3
">Previous</a>
    
    
      <a href="/identity-server-part-5/" class="pagination--pager" title="Building an identity server that supports OAuth 2.0 and OpenID Connect with ASP.NET Core and IdentityServer4 - Part 5
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/creating-uml-diagrams-made-easy/" rel="permalink">Creating UML Diagrams With Ease Using PlantText
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Unified Modeling Language (UML) has been around the software development circles for a fairly long time now. It helps provide a standardised way to visualise...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/building-resilient-applications-with-polly-part-2/" rel="permalink">Building Resilient .NET Core Applications With Polly’s Circuit Breaker Policy
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">In the previous post we introduced Polly, a .NET resilience and transient-fault-handling library. We spoke about the retry policy that can be used to help yo...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/building-resilient-applications-with-polly-part-1/" rel="permalink">Building Resilient .NET Core Applications With Polly’s Retry Policy
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  5 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">In this age of Service Oriented Architecture (SOA) where small microservices within a system communicate with each other using various protocols, typically o...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/facial-recognition-with-kairos/" rel="permalink">Facial Recognition In .NET With Kairos
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">A little over 2 years ago I worked on a project that involved facial recognition. Even though I eventually used Python for the project, I initially wanted to...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://www.linkedin.com/in/vincentnyanga/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://github.com/vince-nyanga/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Vincent Nyanga.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
